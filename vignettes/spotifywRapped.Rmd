---
title: "spotifywRapped: Unwrapped!"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{spotifywRapped: Unwrapped!}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

## Overview

The spotifywRapped package is a great tool for visualizing a user's Spotify listening history. The package comes equipped with several preset themes, called "vibes", that a user can choose to customize their visualization experience. Moreover, the listener can choose whether they want to view their long-term, medium-term, or short-term listening history. There are several kinds of built-in visualization options a user has at their disposal--let's give them a look!

## Energy & Valence Plots

The energy vs valence plot gives a visual summary of the general "vibe" a user tends towards in their favorite music. Using the user's saved tracks, the plot shows the distribution of songs across four quadrants, each representing a different mood.

The function takes the user's listening data, vibe choice, filename, and save location as arguments. It outputs a .png file to the save location of the user's choice and returns the image's file path.

Parameter options:

- `data`: the user's saved track data

- `vibe`: "soft", "neon", "neutral", or "bright"

- `name`: the name of the output file

- `saveto`: the directory to save the output file


```{r enval}
library(spotifywRapped)

temp_save <- tempdir()
energy_valence_demo <- my_energy_valence(data = spotifywRapped::saved_tracks, 
                                         saveto = temp_save, vibe = "bright", 
                                         name = "enval_neon")

```

Here is an example of the energy vs valence plot:

![](`r energy_valence_demo`){width=450px height=800px}

## Top Artists & Tracks Graphics

Yet another fascinating visual implemented into the spotifywRapped package is the `my_top_five` function graphics library. This visualization shows the user's top five most frequently listened to artists and tracks over all time, the past 6 months, or the past 4 weeks. 

Parameter options:

- `time`: "long", "medium", or "short"

- `vibe`: "soft", "neon", "neutral", or "bright"

- `kind`: "artists" or "songs"

- `name`: the name of the output file

- `saveto`: the directory to save the output file

- `dataset`: the user's listening data


The function will return the file path to the generated .png file.


```{r top_artists}
my_top_artists <- my_top_five(time = "long", vibe = "neutral", category = "artists",
                              name = "My_Top_Artists_longterm", 
                              saveto = temp_save)
```
Here is an example of the top artist graphic from long-term listening history:
![](`r my_top_artists`){width=450px height=800px}

Similarly, here is an example of the top tracks graphic from short-term listening:

```{r top_tracks}
my_top_tracks <- my_top_five(time = "short", vibe = "neon", category = "songs",
                             name = "My_Top_Tracks_shortterm", 
                             saveto = temp_save)
```
![](`r my_top_tracks`){width=450px height=800px}

## Artist Frequency

Next, we have the `artist_frequency` function, which generates a bar graph of the user's most frequently listened to artists from the user's saved tracks or top tracks of all time. The function takes the user's category, vibe, name choice, and save location as arguments. The function will return the file path to the generated .png file.

Parameter options:

- `category`: "top" or "saved"

- `data`: the user's saved track data or top track data

- `vibe`: "soft", "neon", "neutral", or "bright"

- `name`: the name of the output file

- `saveto`: the directory to which the output file is saved



```{r artist_frequency_top, eval = FALSE}

artist_frequency_top_demo <- artist_frequency(category = "top", vibe = "soft", 
                                         name = "Top Tracks Artist Frequency", 
                                         saveto = temp_save)


```


Here is an example of the artist frequency graphic generated for the user's top tracks:



```{r artist_frequency_saved, eval = FALSE}

artist_frequency_top_demo <- artist_frequency(category = "saved", vibe = "neon", 
                                         name = "Saved Tracks Artist Frequency", 
                                         saveto = temp_save)
```

...and again for the user's saved tracks:



## Wordcloud - Frequented Artists

Finally, we have the `wordcloud` function, which generates a word cloud of the top 20 of the user's most frequently listened to artists from the user's saved tracks. The function takes the user's saved tracks, vibe, file name, and save location as arguments. The function will return the file path to the generated .png file.

Parameter options:

- `data`: the user's saved track data

- `vibe`: "soft", "neon", "neutral", or "bright"

- `name`: the name of the output file

- `saveto`: the directory to save the output file

```{r wordcloud}

wordcloud_demo <- frequent_listened_artists(category = "long", data = spotifywRapped::saved_tracks, vibe = "neutral", name = "Frequent Artists Wordcloud", saveto = temp_save)

```

Here is an example of the word cloud generated for the user's most frequently listened to artists:

![](`r wordcloud_demo`){width=450px height=800px}

## Limitations

- If users wish to use the `spotifywRapped` package for their own data, they must have a Spotify account and a Spotify Developer account. The package requires the user to have a Spotify API key to access their listening data. The package also requires the user to have preprocessed their data in the same way as done in the `DATASET.R` file.

- Only 1000 observations were obtained for long-term top tracks and artists. Limits might be extended for medium and short term listening histories as well.
